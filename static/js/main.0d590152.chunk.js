(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(32)},22:function(e,t,n){},24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(8),s=n.n(a),c=(n(22),n(1)),r=n(2),l=n(4),p=n(3),u=n(5),d=(n(24),n(6)),h=n(7),m={bounce:{apply:function(e){var t=e.dimension,n=void 0===t?1:t,o=e.wallPosition,i=void 0===o?250:o,a=e.position,s=e.speed,c=(e.acceleration,e.elapsedTime,e.options);a[n]>i&&(a[n]=i,s[n]=-s[n]*(1-c.friction),s[3]=-s[3]*(1-c.friction),a[3]=a[3]*(1-c.friction))}},blackhole:{apply:function(e){for(var t=e.gravity,n=void 0===t?.01:t,o=e.holePosition,i=void 0===o?[150,150]:o,a=e.position,s=e.speed,c=e.acceleration,r=(e.elapsedTime,e.options),l=0;l<=2;l++)c[l]=(i[l]-a[l])*n,s[l]*=1-r.friction/10}}};function b(){var e=Object(d.a)(["\n  position: absolute;\n  width: 15em;\n  height: 7.5em;\n  background-color: slateblue;\n  border-radius: 1em;\n"]);return b=function(){return e},e}function v(){var e=Object(d.a)(["\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  font-size: 1vmin;\n  width:  60em;\n  height: 60em;\n  background-color: #eee;\n  border: 1px solid gray;\n"]);return v=function(){return e},e}var f=h.a.div(v()),g=h.a.div(b()),k=function(e){return Math.round(1e3*e)/1e3},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{left:"".concat(k(e.position[0]),"px"),top:"".concat(k(e.position[1]),"px"),transform:"scale(".concat(k(1-(e.position[2]||.001)/500),")")+" rotate(".concat(k(e.position[3]),"deg)")+(t.skew?" skew(".concat(k(e.speed[0]),"deg, ").concat(k(e.speed[1]),"deg)"):"")+(t.stretch?" scale(".concat(k(1+e.speed[0]/40),", ").concat(k(1+e.speed[1]/40),")"):""),opacity:k(e.position[4])}},y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state=Object.assign({},n.props.startState,{isRunning:!1,timeStarted:Date.now(),elapsedTime:0}),n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log("xx",this.props),this.timer=setInterval(this.onTimerUpdate.bind(this),this.props.options.timerInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"onTimerUpdate",value:function(){if(this.state.isRunning){var e=Date.now()-this.state.timeStarted,t=this.state.position.slice(),n=this.state.speed.slice(),o=this.state.acceleration.slice();for(var i in this.props.appliedRules)m[this.props.appliedRules[i].name].apply({elapsedTime:e,position:t,speed:n,acceleration:o,options:this.props.options});for(var a=0;a<t.length;a++)n[a]+=o[a],t[a]+=n[a];this.setState({position:t,speed:n,acceleration:o,elapsedTime:e}),this.props.handleOutput({position:t,speed:n,acceleration:o,elapsedTime:e,styles:S({position:t,speed:n,acceleration:o},this.props.options)})}}},{key:"toggleRunning",value:function(){var e=!this.state.isRunning;if(this.setState({isRunning:e}),e){var t=Date.now(),n=Object.assign({},this.props.startState),o=n.position,i=n.speed,a=n.acceleration;this.setState({position:o,speed:i,acceleration:a,timeStarted:t})}}},{key:"render",value:function(){return i.a.createElement(o.Fragment,null,i.a.createElement(f,null,i.a.createElement(g,{style:S(this.state,this.props.options)})),i.a.createElement("p",null,i.a.createElement("button",{onClick:this.toggleRunning.bind(this)},this.state.isRunning?"Stop":"Start")))}}]),t}(o.Component);function O(){var e=Object(d.a)(["\n  min-width: auto;\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n  }\n  &:hover:not(:disabled) {\n  }\n  &:active:hover {\n  }\n  &.selected {\n    border: 2px solid blue;\n  }\n"]);return O=function(){return e},e}var w=h.a.button(O()),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={selected:e.selected||e.options[0]},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleSelect",value:function(e,t){this.setState({selected:e}),this.props.onSelect&&this.props.onSelect(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("span",null,this.props.options.map(function(t){return i.a.createElement(w,{key:t,onClick:e.handleSelect.bind(e,t),className:e.state.selected===t?"selected":null},t)}))}}]),t}(o.Component),T={bounce:{name:"bounce",startState:{position:[150,10,0,0,1],speed:[0,0,0,0,0],acceleration:[0,2,0,0,0]},appliedRules:[{name:"bounce"}]},blackhole:{name:"blackhole",startState:{position:[150,10,0,0,1],speed:[20,20,0,0,0],acceleration:[0,0,0,0,0]},appliedRules:[{name:"blackhole"}]}},E={skew:!0,stretch:!1,friction:.1,timerInterval:50},R=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={currentTemplate:"bounce"},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"logOutput",value:function(e){e.comment,e.position,e.speed,e.acceleration;var t,n=e.elapsedTime,o=e.styles;console.log("".concat(n/100,"% { ").concat((t=o,Object.keys(t).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],"; ")},"")),"}"))}},{key:"handleSelectTemplate",value:function(e){this.setState({currentTemplate:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"CSS Motion Toy"),i.a.createElement("p",null,"Create CSS animations based on physics simulation"),i.a.createElement("p",null,i.a.createElement(j,{options:["bounce","blackhole"],onSelect:this.handleSelectTemplate.bind(this)})),i.a.createElement(y,{startState:T[this.state.currentTemplate].startState,appliedRules:T[this.state.currentTemplate].appliedRules,options:E,handleOutput:this.logOutput}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.0d590152.chunk.js.map